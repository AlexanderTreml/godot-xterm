name: Import assets
inputs:
  godot-version:
    required: true
runs:
  using: "composite"
  steps:
    - name: Setup Godot
      uses: lihop/setup-godot@4aad9daa7dd81c11329c4b54fdc26dbd39eea7d6
      with:
        version: ${{ inputs.godot-version }}
    - name: Import assets
      shell: bash
      run: |
        # HACK: See https://github.com/godotengine/godot-proposals/issues/1362.
        (for i in {1..4}; do godot --editor --headless & sleep 5 && .github/actions/import-assets/monitor_import.sh; done) || true

